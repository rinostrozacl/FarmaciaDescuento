<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Tickets - FarmaciaDescuento</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        .tickets-page {
            padding: 50px 0;
            background-color: var(--light-color);
        }
        
        .tickets-page-title {
            margin-bottom: 20px;
            color: var(--secondary-color);
        }
        
        .tickets-page-subtitle {
            margin-bottom: 40px;
            color: var(--gray-dark);
        }
        
        .tickets-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--gray);
        }
        
        .tickets-tab {
            padding: 15px 25px;
            cursor: pointer;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }
        
        .tickets-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        .tickets-tab:hover:not(.active) {
            color: var(--primary-dark);
            border-bottom-color: var(--gray);
        }
        
        .tickets-tab-count {
            display: inline-block;
            background-color: var(--gray-light);
            color: var(--gray-dark);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            text-align: center;
            line-height: 24px;
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .tickets-tab.active .tickets-tab-count {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tickets-list {
            margin-bottom: 40px;
        }
        
        .ticket-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .ticket-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--gray-light);
            border-bottom: 1px solid var(--gray);
        }
        
        .ticket-id {
            font-weight: 500;
            color: var(--secondary-color);
        }
        
        .ticket-date {
            color: var(--gray-dark);
            font-size: 0.9rem;
        }
        
        .ticket-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .ticket-status.active {
            background-color: #e6f7f5;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }
        
        .ticket-status.validated {
            background-color: #fff8e6;
            color: #f5a623;
            border: 1px solid #f5a623;
        }
        
        .ticket-status.used {
            background-color: #e6f0ff;
            color: #4a90e2;
            border: 1px solid #4a90e2;
        }
        
        .ticket-status.expired {
            background-color: #f8e6e6;
            color: #e53935;
            border: 1px solid #e53935;
        }
        
        .ticket-content {
            padding: 20px;
        }
        
        .ticket-pharmacy {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .pharmacy-logo {
            width: 40px;
            height: 40px;
            background-color: var(--gray-light);
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-dark);
        }
        
        .pharmacy-name {
            font-weight: 500;
        }
        
        .pharmacy-address {
            font-size: 0.9rem;
            color: var(--gray-dark);
        }
        
        .ticket-products {
            margin-bottom: 15px;
        }
        
        .ticket-product {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray);
        }
        
        .product-name {
            flex: 2;
        }
        
        .product-quantity {
            flex: 1;
            text-align: center;
            color: var(--gray-dark);
        }
        
        .product-price {
            flex: 1;
            text-align: right;
            font-weight: 500;
        }
        
        .ticket-summary {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--gray);
        }
        
        .ticket-total-label {
            font-weight: 500;
        }
        
        .ticket-total-value {
            font-weight: 700;
            color: var(--accent-color);
            font-size: 1.2rem;
        }
        
        .ticket-savings {
            color: var(--primary-color);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: right;
        }
        
        .ticket-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .ticket-validity {
            display: flex;
            align-items: center;
            color: var(--gray-dark);
            font-size: 0.9rem;
        }
        
        .ticket-validity i {
            margin-right: 5px;
        }
        
        .ticket-validity.warning {
            color: #f5a623;
        }
        
        .ticket-validity.expired {
            color: #e53935;
        }
        
        .ticket-buttons {
            display: flex;
            gap: 10px;
        }
        
        .empty-tickets {
            text-align: center;
            padding: 40px 0;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        .empty-tickets i {
            font-size: 3rem;
            color: var(--gray);
            margin-bottom: 20px;
        }
        
        .empty-tickets h3 {
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .empty-tickets p {
            color: var(--gray-dark);
            margin-bottom: 20px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .qr-code {
            width: 120px;
            height: 120px;
            background-color: var(--gray-light);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: var(--gray-dark);
        }
        
        .ticket-detail-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            width: 90%;
            max-width: 600px;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
        }
        
        .ticket-detail-modal.open {
            display: block;
        }
        
        .ticket-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--gray);
        }
        
        .ticket-detail-title {
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--gray-dark);
        }
        
        .ticket-detail-content {
            padding: 20px;
        }
        
        .ticket-detail-section {
            margin-bottom: 20px;
        }
        
        .ticket-detail-section h3 {
            margin-bottom: 15px;
            color: var(--secondary-color);
            font-size: 1.1rem;
        }
        
        .ticket-detail-footer {
            padding: 20px;
            border-top: 1px solid var(--gray);
            text-align: center;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        
        .overlay.open {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <div style="font-weight: bold; color: #4ECDC4; font-size: 1.5rem;">FarmaciaDescuento</div>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Buscar medicamentos, productos...">
                <button><i class="fas fa-search"></i></button>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="categorias.html">Categorías</a></li>
                    <li><a href="#">Farmacias</a></li>
                    <li><a href="mis-tickets.html" class="active">Mis Tickets</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <a href="#" class="btn-login">Iniciar Sesión</a>
                <a href="#" class="btn-register">Registrarse</a>
                <a href="#" class="cart-icon"><i class="fas fa-shopping-cart"></i> <span class="cart-count">0</span></a>
            </div>
        </div>
    </header>

    <section class="breadcrumb">
        <div class="container">
            <ul class="breadcrumb-list">
                <li><a href="index.html">Inicio</a></li>
                <li>Mis Tickets</li>
            </ul>
        </div>
    </section>

    <section class="tickets-page">
        <div class="container">
            <h1 class="tickets-page-title">Mis Tickets</h1>
            <p class="tickets-page-subtitle">Gestiona tus tickets de descuento y revisa su estado.</p>
            
            <div class="tickets-tabs">
                <div class="tickets-tab active">Activos <span class="tickets-tab-count">2</span></div>
                <div class="tickets-tab">Validados <span class="tickets-tab-count">1</span></div>
                <div class="tickets-tab">Utilizados <span class="tickets-tab-count">3</span></div>
                <div class="tickets-tab">Vencidos <span class="tickets-tab-count">1</span></div>
                <div class="tickets-tab">Todos <span class="tickets-tab-count">7</span></div>
            </div>
            
            <div class="tickets-list">
                <div class="ticket-card">
                    <div class="ticket-header">
                        <div class="ticket-id">Ticket #FD-2025042201</div>
                        <div class="ticket-date">Creado: 22/04/2025 - 10:15</div>
                        <div class="ticket-status active">Activo</div>
                    </div>
                    <div class="ticket-content">
                        <div class="ticket-pharmacy">
                            <div class="pharmacy-logo"><i class="fas fa-store"></i></div>
                            <div>
                                <div class="pharmacy-name">Farmacia San Pablo</div>
                                <div class="pharmacy-address">Av. Presidente Ibáñez 1234, Puerto Montt</div>
                            </div>
                        </div>
                        <div class="ticket-products">
                            <div class="ticket-product">
                                <div class="product-name">Paracetamol 500mg</div>
                                <div class="product-quantity">2 unidades</div>
                                <div class="product-price">$7.180</div>
                            </div>
                            <div class="ticket-product">
                                <div class="product-name">Ibuprofeno 400mg</div>
                                <div class="product-quantity">1 unidad</div>
                                <div class="product-price">$4.220</div>
                            </div>
                        </div>
                        <div class="ticket-summary">
                            <div class="ticket-total-label">Total:</div>
                            <div>
                                <div class="ticket-total-value">$11.400</div>
                                <div class="ticket-savings">Ahorro: $7.080</div>
                            </div>
                        </div>
                        <div class="ticket-actions">
                            <div class="ticket-validity">
                                <i class="fas fa-clock"></i>
                                <span>Válido por: 23 horas 45 minutos</span>
                            </div>
                            <div class="ticket-buttons">
                                <button class="btn-secondary view-ticket-btn" data-ticket="FD-2025042201">Ver Ticket</button>
                                <button class="btn-primary">Descargar QR</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="ticket-card">
                    <div class="ticket-header">
                        <div class="ticket-id">Ticket #FD-2025042105</div>
                        <div class="ticket-date">Creado: 21/04/2025 - 16:30</div>
                        <div class="ticket-status active">Activo</div>
                    </div>
                    <div class="ticket-content">
                        <div class="ticket-pharmacy">
                            <div class="pharmacy-logo"><i class="fas fa-store"></i></div>
                            <div>
                                <div class="pharmacy-name">Farmacia Cruz Verde</div>
                                <div class="pharmacy-address">Av. Angelmó 456, Puerto Montt</div>
                            </div>
                        </div>
                        <div class="ticket-products">
                            <div class="ticket-product">
                                <div class="product-name">Loratadina 10mg</div>
                                <div class="product-quantity">1 unidad</div>
                                <div class="product-price">$3.995</div>
                            </div>
                        </div>
                        <div class="ticket-summary">
                            <div class="ticket-total-label">Total:</div>
                            <div>
                                <div class="ticket-total-value">$3.995</div>
                                <div class="ticket-savings">Ahorro: $3.995</div>
                            </div>
                        </div>
                        <div class="ticket-actions">
                            <div class="ticket-validity warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>Válido por: 5 horas 30 minutos</span>
                            </div>
                            <div class="ticket-buttons">
                                <button class="btn-secondary view-ticket-btn" data-ticket="FD-2025042105">Ver Ticket</button>
                                <button class="btn-primary">Descargar QR</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Ticket Detail Modal -->
            <div class="ticket-detail-modal" id="ticketDetailModal">
                <div class="ticket-detail-header">
                    <h2 class="ticket-detail-title">Detalles del Ticket #FD-2025042201</h2>
                    <button class="close-modal"><i class="fas fa-times"></i></button>
                </div>
                <div class="ticket-detail-content">
                    <div class="qr-code">Código QR del Ticket</div>
                    
                    <div class="ticket-detail-section">
                        <h3>Información General</h3>
                        <p><strong>Estado:</strong> <span class="ticket-status active">Activo</span></p>
                        <p><strong>Fecha de creación:</strong> 22/04/2025 - 10:15</p>
                        <p><strong>Válido hasta:</strong> 23/04/2025 - 10:15</p>
                        <p><strong>Farmacia:</strong> Farmacia San Pablo (Av. Presidente Ibáñez 1234, Puerto Montt)</p>
                    </div>
                    
                    <div class="ticket-detail-section">
                        <h3>Productos</h3>
                        <div class="ticket-products">
                            <div class="ticket-product">
                                <div class="product-name">Paracetamol 500mg</div>
                                <div class="product-quantity">2 unidades</div>
                                <div class="product-price">$7.180</div>
                            </div>
                            <div class="ticket-product">
                                <div class="product-name">Ibuprofeno 400mg</div>
                                <div class="product-quantity">1 unidad</div>
                                <div class="product-price">$4.220</div>
                            </div>
                        </div>
                        <div class="ticket-summary">
                            <div class="ticket-total-label">Total:</div>
                            <div>
                                <div class="ticket-total-value">$11.400</div>
                                <div class="ticket-savings">Ahorro: $7.080</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ticket-detail-section">
                        <h3>Instrucciones</h3>
                        <p>1. Presenta este código QR en la farmacia dentro del tiempo de validez.</p>
                        <p>2. El personal de la farmacia escaneará el código para validar tu ticket.</p>
                        <p>3. Una vez validado, podrás realizar la compra con el descuento aplicado.</p>
                        <p>4. El ticket es válido solo para los productos y cantidades especificadas.</p>
                    </div>
                </div>
                <div class="ticket-detail-footer">
                    <button class="btn-primary">Descargar Ticket</button>
                </div>
            </div>
            
            <div class="overlay" id="overlay"></div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-columns">
                <div class="footer-column">
                    <div class="footer-logo">
                        <div style="font-weight: bold; color: white; font-size: 1.5rem;">FarmaciaDescuento</div>
                    </div>
                    <p>Conectando farmacias y clientes para reducir mermas por vencimiento y ofrecer productos a precios accesibles.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Enlaces Rápidos</h3>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="categorias.html">Categorías</a></li>
                        <li><a href="#">Farmacias</a></li>
                        <li><a href="#">Cómo Funciona</a></li>
                        <li><a href="#">Registrarse</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Para Farmacias</h3>
                    <ul>
                        <li><a href="#">Registrar Farmacia</a></li>
                        <li><a href="#">Beneficios</a></li>
                        <li><a href="#">Panel de Control</a></li>
                        <li><a href="#">Preguntas Frecuentes</a></li>
                        <li><a href="#">Soporte</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contacto</h3>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> Av. Presidente Ibáñez 1234, Puerto Montt</li>
                        <li><i class="fas fa-phone"></i> +56 2 2345 6789</li>
                        <li><i class="fas fa-envelope"></i> contacto@farmaciadescuento.cl</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copyright">
                    &copy; 2025 FarmaciaDescuento. Todos los derechos reservados.
                </div>
                <div class="footer-links">
                    <a href="#">Términos y Condiciones</a>
                    <a href="#">Política de Privacidad</a>
                    <a href="#">Política de Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Tabs functionality
        const ticketsTabs = document.querySelectorAll('.tickets-tab');
        
        ticketsTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                ticketsTabs.forEach(t => t.classList.remove('active'));
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Here you would typically filter the tickets based on the selected tab
                // For demo purposes, we're not implementing the actual filtering
            });
        });
        
        // Modal functionality
        const viewTicketBtns = document.querySelectorAll('.view-ticket-btn');
        const ticketDetailModal = document.getElementById('ticketDetailModal');
        const overlay = document.getElementById('overlay');
        const closeModal = document.querySelector('.close-modal');
        
        viewTicketBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const ticketId = btn.getAttribute('data-ticket');
                document.querySelector('.ticket-detail-title').textContent = `Detalles del Ticket #${ticketId}`;
                ticketDetailModal.classList.add('open');
                overlay.classList.add('open');
            });
        });
        
        closeModal.addEventListener('click', () => {
            ticketDetailModal.classList.remove('open');
            overlay.classList.remove('open');
        });
        
        overlay.addEventListener('click', () => {
            ticketDetailModal.classList.remove('open');
            overlay.classList.remove('open');
        });
    </script>
</body>
</html>
